模板语法
===

---

## 1.变量

* 变量输出语法
    ``{{  var  }}``
* 当模版引擎遇到一个变量，将计算这个变量，然后将结果输出
* 变量名必须由字母、数字、下划线（不能以下划线开头）和点组成
* 当模版引擎遇到点(".")，会按照下列顺序查询：
    * 字典查询，例如：foo["bar"]
    * 属性或方法查询，例如：foo.bar
    * 数字索引查询，例如：foo[bar]
* 如果变量不存在， 模版系统将插入'' (空字符串)
* 在模板中调用方法时不能传递参数

## 2.标签

* 语法
    `{ %  tag  % }`
* 作用
    * 在输出中创建文本
    * 控制循环或逻辑
    * 加载外部信息到模板中

* #### for标签

    ```python
    { %  for ... in ...  % }
        循环逻辑
    { %  endfor  % }
    ```

* #### if标签

    ```python
    { %  if ...  % }
        逻辑1
    { %  elif ...  % }
        逻辑2
    { %  else  % }
        逻辑3
    { %  endif  % }
    ```

* #### comment标签

    ```python
    { %  comment  % }
        多行注释
    { %  endcomment  % }
    ```

* #### include：加载模板并以标签内的参数渲染

    ```python
    { %  include "base/index.html"  % }
    ```

* #### url：反向解析

    ```python
    { %  url 'name' p1 p2  % }
    ```

* #### csrf_token：这个标签用于跨站请求伪造保护

    ```python
    { %  csrf_token  % }
    ```